[gd_scene load_steps=5 format=3 uid="uid://buprh2wvngmgt"]

[ext_resource type="Script" uid="uid://bkqyobvd7k247" path="res://scripts/bar_server_client_fixed.gd" id="1_aj1ii"]
[ext_resource type="Script" uid="uid://cc7su1hbnuxe3" path="res://scripts/camera_fix.gd" id="2_qjken"]
[ext_resource type="TileSet" uid="uid://bv4ms0g8ykqne" path="res://tilesets/cozy_bar_tileset.tres" id="3_8cqgw"]

[sub_resource type="Environment" id="Environment_1qr6n"]
background_mode = 1
background_color = Color(0.2, 0.15, 0.1, 1)
ambient_light_source = 1
ambient_light_color = Color(1, 0.9, 0.7, 1)
ambient_light_energy = 0.3

[node name="CozyBar" type="Node2D"]
script = ExtResource("1_aj1ii")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(192, 160)
zoom = Vector2(2, 2)
script = ExtResource("2_qjken")

[node name="Environment" type="Node" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment"]
environment = SubResource("Environment_1qr6n")

[node name="Lighting" type="Node2D" parent="."]

[node name="AmbientLight" type="PointLight2D" parent="Lighting"]
position = Vector2(192, 160)
color = Color(1, 0.9, 0.7, 1)
energy = 0.5
texture_scale = 8.0

[node name="BarLight1" type="PointLight2D" parent="Lighting"]
position = Vector2(160, 96)
color = Color(1, 0.85, 0.6, 1)
energy = 0.8
texture_scale = 4.0

[node name="BarLight2" type="PointLight2D" parent="Lighting"]
position = Vector2(224, 96)
color = Color(1, 0.85, 0.6, 1)
energy = 0.8
texture_scale = 4.0

[node name="StageLight" type="PointLight2D" parent="Lighting"]
position = Vector2(192, 288)
color = Color(0.9, 0.8, 1, 1)
energy = 0.6
texture_scale = 3.0

[node name="TileMaps" type="Node2D" parent="."]

[node name="FloorLayer" type="TileMap" parent="TileMaps"]
tile_set = ExtResource("3_8cqgw")
format = 2
layer_0/name = "Floor"

[node name="WallLayer" type="TileMap" parent="TileMaps"]
tile_set = ExtResource("3_8cqgw")
format = 2
layer_0/name = "Walls"
layer_0/z_index = 1

[node name="FurnitureLayer" type="TileMap" parent="TileMaps"]
tile_set = ExtResource("3_8cqgw")
format = 2
layer_0/name = "Furniture"
layer_0/y_sort_enabled = true
layer_0/y_sort_origin = 16
layer_0/z_index = 2

[node name="DecorationLayer" type="TileMap" parent="TileMaps"]
tile_set = ExtResource("3_8cqgw")
format = 2
layer_0/name = "Decorations"
layer_0/y_sort_enabled = true
layer_0/y_sort_origin = 16
layer_0/z_index = 3

[node name="CollisionLayer" type="TileMap" parent="TileMaps"]
tile_set = ExtResource("3_8cqgw")
collision_visibility_mode = 1
format = 2
layer_0/name = "Collision"
layer_0/enabled = false
layer_0/modulate = Color(1, 1, 1, 0.3)
layer_0/z_index = -1

[node name="SpawnPoints" type="Node2D" parent="."]

[node name="PlayerSpawn" type="Marker2D" parent="SpawnPoints"]
position = Vector2(192, 160)
gizmo_extents = 16.0

[node name="BobSpawn" type="Marker2D" parent="SpawnPoints"]
position = Vector2(192, 64)
gizmo_extents = 16.0

[node name="AliceSpawn" type="Marker2D" parent="SpawnPoints"]
position = Vector2(64, 192)
gizmo_extents = 16.0

[node name="SamSpawn" type="Marker2D" parent="SpawnPoints"]
position = Vector2(288, 192)
gizmo_extents = 16.0

[node name="InteractiveObjects" type="Node2D" parent="."]

[node name="BarCounter" type="Area2D" parent="InteractiveObjects"]
position = Vector2(192, 96)

[node name="BarCollision" type="CollisionShape2D" parent="InteractiveObjects/BarCounter"]

[node name="Tables" type="Node2D" parent="InteractiveObjects"]

[node name="Table1" type="Area2D" parent="InteractiveObjects/Tables"]
position = Vector2(96, 192)

[node name="Table1Collision" type="CollisionShape2D" parent="InteractiveObjects/Tables/Table1"]

[node name="Table2" type="Area2D" parent="InteractiveObjects/Tables"]
position = Vector2(288, 192)

[node name="Table2Collision" type="CollisionShape2D" parent="InteractiveObjects/Tables/Table2"]

[node name="MusicStage" type="Area2D" parent="InteractiveObjects"]
position = Vector2(192, 288)

[node name="StageCollision" type="CollisionShape2D" parent="InteractiveObjects/MusicStage"]

[node name="AudioManager" type="Node" parent="."]

[node name="BackgroundMusic" type="AudioStreamPlayer" parent="AudioManager"]
volume_db = -10.0

[node name="AmbiencePlayer" type="AudioStreamPlayer" parent="AudioManager"]
volume_db = -15.0

[node name="ColorRect" type="ColorRect" parent="."]
offset_right = 640.0
offset_bottom = 480.0
color = Color(0.235294, 0.141176, 0.0823529, 1)

[node name="Bob" type="ColorRect" parent="."]
offset_left = 300.0
offset_top = 100.0
offset_right = 332.0
offset_bottom = 132.0
color = Color(0.0150572, 0.276995, 1, 1)

[node name="Bob" type="Label" parent="Bob"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "Bob"

[node name="Alice" type="ColorRect" parent="."]
offset_left = 100.0
offset_top = 300.0
offset_right = 132.0
offset_bottom = 332.0
color = Color(0.671991, 0.153109, 0.189287, 1)

[node name="Alice" type="Label" parent="Alice"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "Alice"

[node name="Sam" type="ColorRect" parent="."]
offset_left = 500.0
offset_top = 300.0
offset_right = 532.0
offset_bottom = 332.0
color = Color(0.0778771, 0.411561, 0.365471, 1)

[node name="Sam" type="Label" parent="Sam"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "Sam"
